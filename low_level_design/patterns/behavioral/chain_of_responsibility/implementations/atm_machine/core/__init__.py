"""core logic which will be used for handlers"""